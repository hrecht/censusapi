<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Frequently asked questions • censusapi</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Frequently asked questions">
<meta name="description" content="Frequently asked questions about using Censusapi.
">
<meta property="og:description" content="Frequently asked questions about using Censusapi.
">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">censusapi</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/getting-started.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/getting-started.html">Getting started with censusapi</a></li>
    <li><a class="dropdown-item" href="../articles/frequently-asked-questions.html">Frequently asked questions</a></li>
    <li><a class="dropdown-item" href="../articles/example-list.html">censusapi examples</a></li>
    <li><a class="dropdown-item" href="../articles/accessing-microdata.html">Accessing microdata</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/hrecht/censusapi/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">


<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Frequently asked questions</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/hrecht/censusapi/blob/HEAD/vignettes/articles/frequently-asked-questions.Rmd" class="external-link"><code>vignettes/articles/frequently-asked-questions.Rmd</code></a></small>
      <div class="d-none name"><code>frequently-asked-questions.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="how-do-i-learn-more-about-a-particular-dataset">How do I learn more about a particular dataset?<a class="anchor" aria-label="anchor" href="#how-do-i-learn-more-about-a-particular-dataset"></a>
</h2>
<p>Read the <a href="https://www.census.gov/data/developers/data-sets.html" class="external-link">online
documentation</a> for your survey. Some information is not included in
the developer metadata or documentation pages and is only available in
PDFs on the Census Bureau website.</p>
</div>
<div class="section level2">
<h2 id="how-can-i-see-the-underlying-api-call-sent-to-the-census-bureau">How can I see the underlying API call sent to the Census
Bureau?<a class="anchor" aria-label="anchor" href="#how-can-i-see-the-underlying-api-call-sent-to-the-census-bureau"></a>
</h2>
<p>You can see the underlying API call sent to the Census Bureau servers
by setting <code>getCensus(show_call = TRUE)</code> when running your
code. If your <code><a href="../reference/getCensus.html">getCensus()</a></code> call results in an error, it will
automatically print this underlying API call in your R console. You can
copy and paste this URL in your web browser to view it directly.</p>
</div>
<div class="section level2">
<h2 id="what-does-there-was-an-error-while-running-your-query-mean">What does “There was an error while running your query” mean?<a class="anchor" aria-label="anchor" href="#what-does-there-was-an-error-while-running-your-query-mean"></a>
</h2>
<p>Occasionally you might get the general error message
<code>“There was an error while running your query.  We've logged the error and we'll correct it ASAP.  Sorry for the inconvenience.”</code>
This comes from the Census Bureau and could be caused by any number of
problems, including server issues. Try rerunning your API call. If that
doesn’t work and you are requesting a large amount of data, try reducing
the amount that you’re requesting. If you’re still having trouble, see
below for ways to get help.</p>
</div>
<div class="section level2">
<h2 id="my-getcensus-call-worked-last-year-but-now-it-gives-an-error--why">My <code>getCensus()</code> call worked last year but now it gives
an error. Why?<a class="anchor" aria-label="anchor" href="#my-getcensus-call-worked-last-year-but-now-it-gives-an-error--why"></a>
</h2>
<p>The Census Bureau makes frequent changes to the APIs. For annual
datasets, like the American Community Survey, variable names and
available geographies can change year to year. Options for timeseries
datasets sometimes change with new releases. Check the Census Bureau’s
online documentation for your dataset and use
<code><a href="../reference/listCensusMetadata.html">listCensusMetadata()</a></code> to make sure you’re using the current
syntax.</p>
</div>
<div class="section level2">
<h2 id="are-the-census-apis-case-sensitive">Are the Census APIs case sensitive?<a class="anchor" aria-label="anchor" href="#are-the-census-apis-case-sensitive"></a>
</h2>
<p><strong>Yes.</strong> Run
<code>listCensusMetadata(type = "variables")</code> on your dataset to
see what variables are available. If the variable name you want is
uppercase you’ll need to write it uppercase in your
<code><a href="../reference/getCensus.html">getCensus()</a></code> request. Most of the APIs use uppercase, but
some use lowercase and some even use sentence case variable names.</p>
</div>
<div class="section level2">
<h2 id="how-do-i-know-what-geographies-are-available-for-my-dataset-what-is-a-fips-code">How do I know what geographies are available for my dataset? What is
a FIPS code?<a class="anchor" aria-label="anchor" href="#how-do-i-know-what-geographies-are-available-for-my-dataset-what-is-a-fips-code"></a>
</h2>
<p>Run <code>listCensusMetadata(type = "geographies")</code> on your
dataset to check which geographies you can use. Each API has its own
list of valid geographies and they occasionally change as the Census
Bureau makes updates.</p>
<p>Most geographies in the Census APIs are specified using FIPS (Federal
Information Processing Standards) codes. For example, Autauga County,
Alabama is assigned state code <code>01</code> and county code
<code>001</code>. Its combined GEOID, which uniquely identifies counties
nationally, is <code>01001</code>.</p>
<p>See the <a href="https://www.census.gov/library/reference/code-lists/ansi.html" class="external-link">Census
Bureau FIPS reference</a> for valid codes and the <a href="https://www.census.gov/programs-surveys/geography/about/glossary.html" class="external-link">geographic
glossary</a> for more information. You can also download more geographic
identifying information from the <a href="https://www.census.gov/geographies/reference-files/time-series/geo/gazetteer-files.html" class="external-link">Census
gazetteer</a> files, including full GEOID, name, and centroid
coordinates.</p>
<p>FIPS codes are characters, not numbers. For example, state-level FIPS
codes are two characters long. <code>region = state:01</code> will work
but <code>region =``state:1</code> will usually not.</p>
</div>
<div class="section level2">
<h2 id="how-do-i-get-data-for-every-state-county-or-metro-area">How do I get data for every state, county, or metro area?<a class="anchor" aria-label="anchor" href="#how-do-i-get-data-for-every-state-county-or-metro-area"></a>
</h2>
<p>Most Census datasets allow you to use a <code>wildcard</code> — the
<code>*</code> symbol — to get data for all of a geography class. For
example, you can get data for every state in the American Community
Survey by using <code>region = state:*</code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">state_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getCensus.html">getCensus</a></span><span class="op">(</span></span>
<span>    name <span class="op">=</span> <span class="st">"acs/acs1"</span>, </span>
<span>    vintage <span class="op">=</span> <span class="fl">2022</span>, </span>
<span>    vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"NAME"</span>, <span class="st">"B19013_001E"</span><span class="op">)</span>, </span>
<span>    region <span class="op">=</span> <span class="st">"state:*"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">state_data</span><span class="op">)</span></span></code></pre></div>
<div class="kable-table">
<table class="table">
<thead><tr class="header">
<th align="left">state</th>
<th align="left">NAME</th>
<th align="right">B19013_001E</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">01</td>
<td align="left">Alabama</td>
<td align="right">59674</td>
</tr>
<tr class="even">
<td align="left">02</td>
<td align="left">Alaska</td>
<td align="right">88121</td>
</tr>
<tr class="odd">
<td align="left">04</td>
<td align="left">Arizona</td>
<td align="right">74568</td>
</tr>
<tr class="even">
<td align="left">05</td>
<td align="left">Arkansas</td>
<td align="right">55432</td>
</tr>
<tr class="odd">
<td align="left">06</td>
<td align="left">California</td>
<td align="right">91551</td>
</tr>
<tr class="even">
<td align="left">08</td>
<td align="left">Colorado</td>
<td align="right">89302</td>
</tr>
</tbody>
</table>
</div>
<p>Data for some small geographies, like Census tract or block group,
need to be nested using the <code>regionin</code> argument. Run
<code>listCensusMetadata(type = "geographies")</code> to see those
options.</p>
<p>Here’s an example getting block group population data within a
specific Census tract using the 2020 Decennial Census.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">block_group</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getCensus.html">getCensus</a></span><span class="op">(</span></span>
<span>    name <span class="op">=</span> <span class="st">"dec/dhc"</span>,</span>
<span>    vintage <span class="op">=</span> <span class="fl">2020</span>,</span>
<span>    vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"NAME"</span>, <span class="st">"P1_001N"</span><span class="op">)</span>,</span>
<span>    region <span class="op">=</span> <span class="st">"block group:*"</span>,</span>
<span>    regionin <span class="op">=</span> <span class="st">"state:36+county:027+tract:220300"</span><span class="op">)</span></span>
<span><span class="va">block_group</span></span></code></pre></div>
<div class="kable-table">
<table style="width:100%;" class="table">
<colgroup>
<col width="6%">
<col width="7%">
<col width="7%">
<col width="12%">
<col width="60%">
<col width="8%">
</colgroup>
<thead><tr class="header">
<th align="left">state</th>
<th align="left">county</th>
<th align="left">tract</th>
<th align="left">block_group</th>
<th align="left">NAME</th>
<th align="right">P1_001N</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">36</td>
<td align="left">027</td>
<td align="left">220300</td>
<td align="left">1</td>
<td align="left">Block Group 1; Census Tract 2203; Dutchess County; New
York</td>
<td align="right">1467</td>
</tr>
<tr class="even">
<td align="left">36</td>
<td align="left">027</td>
<td align="left">220300</td>
<td align="left">2</td>
<td align="left">Block Group 2; Census Tract 2203; Dutchess County; New
York</td>
<td align="right">1394</td>
</tr>
<tr class="odd">
<td align="left">36</td>
<td align="left">027</td>
<td align="left">220300</td>
<td align="left">3</td>
<td align="left">Block Group 3; Census Tract 2203; Dutchess County; New
York</td>
<td align="right">1192</td>
</tr>
<tr class="even">
<td align="left">36</td>
<td align="left">027</td>
<td align="left">220300</td>
<td align="left">4</td>
<td align="left">Block Group 4; Census Tract 2203; Dutchess County; New
York</td>
<td align="right">885</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="im-still-stuck-or-got-an-unexpected-result--how-can-i-get-help">I’m still stuck or got an unexpected result. How can I get
help?<a class="anchor" aria-label="anchor" href="#im-still-stuck-or-got-an-unexpected-result--how-can-i-get-help"></a>
</h2>
<ul>
<li><p>Use <code><a href="../reference/listCensusMetadata.html">listCensusMetadata()</a></code> to make sure you’re using
the right variable names and/or geography names.</p></li>
<li><p>Join the Census Bureau’s public <a href="https://uscensusbureau.slack.com/join/shared_invite/zt-2b2haoe2u-uWTAGW1zZffhZeXEvROFVA#/shared-invite/email" class="external-link">Slack
channel</a> and ask your question in the R or API rooms. Census Bureau
staff and other <code>censusapi</code> users (and the
<code>censusapi</code> package developer!) check this Slack regularly.
This is the fastest way to get help.</p></li>
<li><p>Open a <a href="https://github.com/hrecht/censusapi/issues" class="external-link">Github issue</a> for
bugs or issues that you suspect are caused by this R package.</p></li>
<li><p>For questions about a specific survey, you can email the contact
listed in the dataset metadata found in
<code><a href="../reference/listCensusApis.html">listCensusApis()</a></code>.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="why-is-my-data--666666666-or-another-weird-value-what-is-an-annotation">Why is my data -666666666 or another weird value? What is an
annotation?<a class="anchor" aria-label="anchor" href="#why-is-my-data--666666666-or-another-weird-value-what-is-an-annotation"></a>
</h2>
<p>Some Census datasets, including the American Community Survey, use
annotated values. These values use numbers or symbols to indicate that
the data is unavailable, has been top coded, has an insufficient sample
size, or other noteworthy characteristics. Read more from the Census
Bureau on <a href="https://www.census.gov/data/developers/data-sets/acs-1year/notes-on-acs-estimate-and-annotation-values.html" class="external-link">ACS
annotation meanings</a> and <a href="https://www.census.gov/data/developers/data-sets/acs-1year/notes-on-acs-api-variable-types.html" class="external-link">ACS
variable types</a>.</p>
<p>The <code>censusapi</code> package is intended to return the data
as-is so that you can receive those unaltered annotations. If you are
using data for a small geography like Census tract or block group make
sure to check for values like <code>-666666666</code> or check the
annotation columns for non-empty values to exclude as needed.</p>
<p>As an example, we’ll get the total number of households (<a href="https://api.census.gov/data/2022/acs/acs5/variables/B11012_001E.json" class="external-link">B11012_001E</a>)
and median household income with associated annotations and margins of
error (<a href="https://api.census.gov/data/2022/acs/acs5/groups/B19013.json" class="external-link">B19013
group</a>) for three census tracts in Washington, DC.</p>
<p>The value for one tract is available, one is top coded, and one is
unavailable. Notice that income is top coded at $250,000 — meaning any
tract’s income that is above that threshold is listed as $250,001. You
can see a value has a special meaning in the “EA” (estimate annotation)
and “MA” (margin of error annotation) columns.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">annotations_example</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getCensus.html">getCensus</a></span><span class="op">(</span></span>
<span>    name <span class="op">=</span> <span class="st">"acs/acs5"</span>,</span>
<span>    vintage <span class="op">=</span> <span class="fl">2022</span>, </span>
<span>    vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"B11012_001E"</span>, <span class="st">"group(B19013)"</span><span class="op">)</span>, </span>
<span>    region <span class="op">=</span> <span class="st">"tract:006804,007703,000903"</span>,</span>
<span>    regionin <span class="op">=</span> <span class="st">"county:001&amp;state:11"</span><span class="op">)</span></span>
<span><span class="va">annotations_example</span></span></code></pre></div>
<div class="kable-table">
<table class="table">
<colgroup>
<col width="3%">
<col width="4%">
<col width="4%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="12%">
<col width="37%">
</colgroup>
<thead><tr class="header">
<th align="left">state</th>
<th align="left">county</th>
<th align="left">tract</th>
<th align="right">B11012_001E</th>
<th align="right">B19013_001E</th>
<th align="left">B19013_001EA</th>
<th align="right">B19013_001M</th>
<th align="left">B19013_001MA</th>
<th align="left">GEO_ID</th>
<th align="left">NAME</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">11</td>
<td align="left">001</td>
<td align="left">000903</td>
<td align="right">358</td>
<td align="right">250001</td>
<td align="left">250,000+</td>
<td align="right">-333333333</td>
<td align="left">***</td>
<td align="left">1400000US11001000903</td>
<td align="left">Census Tract 9.03; District of Columbia; District of
Columbia</td>
</tr>
<tr class="even">
<td align="left">11</td>
<td align="left">001</td>
<td align="left">006804</td>
<td align="right">18</td>
<td align="right">-666666666</td>
<td align="left">-</td>
<td align="right">-222222222</td>
<td align="left">**</td>
<td align="left">1400000US11001006804</td>
<td align="left">Census Tract 68.04; District of Columbia; District of
Columbia</td>
</tr>
<tr class="odd">
<td align="left">11</td>
<td align="left">001</td>
<td align="left">007703</td>
<td align="right">2340</td>
<td align="right">59369</td>
<td align="left">NA</td>
<td align="right">24077</td>
<td align="left">NA</td>
<td align="left">1400000US11001007703</td>
<td align="left">Census Tract 77.03; District of Columbia; District of
Columbia</td>
</tr>
</tbody>
</table>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Hannah Recht.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
