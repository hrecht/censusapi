<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • censusapi</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">censusapi</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/getting-started.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/getting-started.html">Getting started with censusapi</a></li>
    <li><a class="dropdown-item" href="../articles/frequently-asked-questions.html">Frequently asked questions</a></li>
    <li><a class="dropdown-item" href="../articles/example-list.html">censusapi examples</a></li>
    <li><a class="dropdown-item" href="../articles/accessing-microdata.html">Accessing microdata</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/hrecht/censusapi/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>
      <small>Source: <a href="https://github.com/hrecht/censusapi/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.0" id="censusapi-090">censusapi 0.9.0<a class="anchor" aria-label="anchor" href="#censusapi-090"></a></h2>
<div class="section level3">
<h3 id="breaking-changes-0-9-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-9-0"></a></h3>
<ul><li>Increases required version of R from &gt;=3.0 to &gt;=3.5 (released in 2018) based on httr dependency.</li>
</ul></div>
<div class="section level3">
<h3 id="new-features-0-9-0">New features<a class="anchor" aria-label="anchor" href="#new-features-0-9-0"></a></h3>
<div class="section level4">
<h4 id="api-keys-0-9-0">API keys<a class="anchor" aria-label="anchor" href="#api-keys-0-9-0"></a></h4>
<ul><li>
<code><a href="../reference/getCensus.html">getCensus()</a></code> no longer requires <code>key</code>, the use of a Census Bureau API key. Users are still encouraged to register for and use an API key because the Census Bureau may rate limit IP addresses, but it is not required. (<a href="https://github.com/hrecht/censusapi/issues/87" class="external-link">#87</a>)</li>
<li>New <code><a href="../reference/get_api_key.html">get_api_key()</a></code> helper function retrieves the value of a user’s stored Census Bureau API key from a saved environment variable or provides a warning message if none is found.</li>
<li>New <code><a href="../reference/has_api_key.html">has_api_key()</a></code> helper function detects if there is a stored Census Bureau API key in the Renviron, intended mainly for internal use.</li>
</ul></div>
<div class="section level4">
<h4 id="variable-typing-0-9-0">Variable typing<a class="anchor" aria-label="anchor" href="#variable-typing-0-9-0"></a></h4>
<ul><li>
<code><a href="../reference/getCensus.html">getCensus()</a></code> uses improved logic to automatically convert columns that contain all numbers to numeric, unless the column name is in a specific list of geography names or other string type columns. Use <code>convert_variables = FALSE</code> to leave all columns as characters.</li>
</ul></div>
<div class="section level4">
<h4 id="metadata-0-9-0">Metadata<a class="anchor" aria-label="anchor" href="#metadata-0-9-0"></a></h4>
<ul><li>
<code><a href="../reference/listCensusApis.html">listCensusApis()</a></code> now has optional <code>name</code> and <code>vintage</code> parameters to get metadata for a subset of datasets or a single dataset. (<a href="https://github.com/hrecht/censusapi/issues/103" class="external-link">#103</a>)</li>
</ul><div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get metadata for all 2020 Decennial Census datasets</span></span>
<span><span class="va">apis_decennial_2020</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/listCensusApis.html">listCensusApis</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"dec"</span>, vintage <span class="op">=</span> <span class="fl">2020</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get metadata for all timeseries datasets</span></span>
<span><span class="va">apis_timeseries</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/listCensusApis.html">listCensusApis</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"timeseries"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="documentation-0-9-0">Documentation<a class="anchor" aria-label="anchor" href="#documentation-0-9-0"></a></h3>
<ul><li>Function documentation is improved and better formatted.</li>
<li>Examples are updated to use newly released datasets.</li>
<li>A new online <a href="https://www.hrecht.com/censusapi/articles/frequently-asked-questions.html">frequently asked questions article</a> improves documentation.</li>
<li>A new vignette included in the package build directs users to the website to read web-only articles.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8.0" id="censusapi-080">censusapi 0.8.0<a class="anchor" aria-label="anchor" href="#censusapi-080"></a></h2><p class="text-muted">CRAN release: 2022-08-09</p>
<ul><li><p><code><a href="../reference/listCensusApis.html">listCensusApis()</a></code> has new columns in the resulting data frame of available API endpoints: the API <code>contact</code> email address and <code>type</code>: either Aggregate, Timeseries, or Microdata.</p></li>
<li>
<p><code><a href="../reference/listCensusMetadata.html">listCensusMetadata()</a></code> has new functionality to use <code>value</code> metadata. This is particularly useful for some of the economic datasets and the microdata APIs. Use <code>type = "variables"</code> and <code>include_values = TRUE</code> to create a dictionary with all value labels for a given dataset. To get value labels for a single variable in a given dataset, use <code>type = "values"</code> and <code>variable = "VARIABLE OF INTEREST"</code>.</p>
<p>Note: This metadata, while incredibly useful, only exists for some datasets. For other datasets you’ll still need to reference external files until the Census Bureau adds this functionality.</p>
<p>For example, get the value labels for the <code>NAICS2017</code> in the County Business Patterns dataset:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cbp_naics_values</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/listCensusMetadata.html">listCensusMetadata</a></span><span class="op">(</span></span>
<span>    name <span class="op">=</span> <span class="st">"cbp"</span>,</span>
<span>    vintage <span class="op">=</span> <span class="fl">2020</span>,</span>
<span>    type <span class="op">=</span> <span class="st">"values"</span>,</span>
<span>    variable <span class="op">=</span> <span class="st">"NAICS2017"</span><span class="op">)</span></span></code></pre></div>
<p>Or make a full dictionary for the Current Population Survey Voting Patterns microdata API:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cbp_dict</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/listCensusMetadata.html">listCensusMetadata</a></span><span class="op">(</span></span>
<span>    name <span class="op">=</span> <span class="st">"cbp"</span>,</span>
<span>    vintage <span class="op">=</span> <span class="fl">2020</span>,</span>
<span>    type <span class="op">=</span> <span class="st">"variables"</span>,</span>
<span>    include_values <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</li>
<li><p><code><a href="../reference/getCensus.html">getCensus()</a></code> has a new option <code>convert_variables</code> re discussion in (<a href="https://github.com/hrecht/censusapi/issues/68" class="external-link">#68</a>) and (<a href="https://github.com/hrecht/censusapi/issues/80" class="external-link">#80</a>). The default is <code>TRUE</code> — as in previous versions, this converts columns of numbers to R’s numeric data type. Setting <code>convert variables = FALSE</code> leaves all columns in the original character data type returned by the Census Bureau.</p></li>
<li><p><code><a href="../reference/getCensus.html">getCensus()</a></code> has improved data binding for responses from requests where more than 50 variables are manually specified. Occasionally these large requests were not returned from the Census Bureau in the same order, leading to mismatched rows. This fixes (<a href="https://github.com/hrecht/censusapi/issues/82" class="external-link">#82</a>).</p></li>
<li><p><code><a href="../reference/listCensusMetadata.html">listCensusMetadata()</a></code> now properly handles metadata attribute names in the new Microdata APIs that contain invalid JSON. This fixes (<a href="https://github.com/hrecht/censusapi/issues/84" class="external-link">#84</a>).</p></li>
<li><p>Documentation and examples are updated. There is a new vignette: <a href="https://www.hrecht.com/censusapi/articles/accessing-microdata.html">Accessing microdata.</a></p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.3" id="censusapi-073">censusapi 0.7.3<a class="anchor" aria-label="anchor" href="#censusapi-073"></a></h2>
<ul><li>Properly types certain variables in international trade timeseries APIs.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.2" id="censusapi-072">censusapi 0.7.2<a class="anchor" aria-label="anchor" href="#censusapi-072"></a></h2>
<ul><li>Adds named parameter for <code>YEAR</code> to <code><a href="../reference/getCensus.html">getCensus()</a></code> per changes to some timeseries endpoints that previously used <code>TIME</code> as a parameter.</li>
<li>Updates examples using SAHIE and SAIPE APIs per Census Bureau changes to these endpoints.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.1" id="censusapi-071">censusapi 0.7.1<a class="anchor" aria-label="anchor" href="#censusapi-071"></a></h2><p class="text-muted">CRAN release: 2020-10-14</p>
<ul><li>Removes <code><a href="../reference/listCensusMetadata.html">listCensusMetadata()</a></code> and masterlist examples that used Business Dynamic Statistics endpoints, which were recently deprecated.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.0" id="censusapi-070">censusapi 0.7.0<a class="anchor" aria-label="anchor" href="#censusapi-070"></a></h2><p class="text-muted">CRAN release: 2020-09-07</p>
<ul><li>Adds <code>show_call</code> option to <code><a href="../reference/getCensus.html">getCensus()</a></code>, which shows the underlying API call (otherwise only shown on errors) and link to package documentation when used.</li>
<li>Converts improperly formatted string “N/A” and “NULL” values from underlying Census data to true NA values.</li>
<li>Improves parsing of columns as numeric or character, specifically:
<ul><li>Keeps 2017 NAICS variables as characters, instead of erroneously converting to numeric.</li>
<li>Parses endpoint numeric variables with all-character variable names as numeric for several popular endpoints: SAHIE, SAIPE, ZBP, CBP, PEP and Decennial Response Rates.</li>
</ul></li>
<li>Removes examples from deprecated 1990 and 2000 Decennial endpoints.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.1" id="censusapi-061">censusapi 0.6.1<a class="anchor" aria-label="anchor" href="#censusapi-061"></a></h2>
<ul><li>Updates web link to FIPS codes reference after Census website reorganization.</li>
<li>Adds examples for Decennial Census response rates, updates several examples to retrieve newer data.</li>
<li>Removes example masterlist from package itself due to size, online only.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.0" id="censusapi-060">censusapi 0.6.0<a class="anchor" aria-label="anchor" href="#censusapi-060"></a></h2><p class="text-muted">CRAN release: 2019-04-13</p>
<ul><li>Allows the use of miscellaneous paramaters in <code><a href="../reference/getCensus.html">getCensus()</a></code>. This allows users to specify any valid API argument name and pass it a value, giving full access to all of the underlying Census Bureau APIs.</li>
<li>Adds a <code>group</code> parameter in <code><a href="../reference/listCensusMetadata.html">listCensusMetadata()</a></code>. This allows users to get variable metadata for a specified variable group.</li>
<li>Improves internal logic in <code><a href="../reference/listCensusMetadata.html">listCensusMetadata()</a></code>.</li>
<li>Add documentation and examples using miscellaneous paramaters.</li>
<li>Returns underlying API call in error messages, particularly useful for users needing from the Census Bureau.</li>
<li>Specifies tract in block group example due to underlying API changes.</li>
<li>Adds Contributor Code of Conduct.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.0" id="censusapi-050">censusapi 0.5.0<a class="anchor" aria-label="anchor" href="#censusapi-050"></a></h2>
<ul><li>Makes <code>region</code> an optional argument in <code>getCensus</code>, rather than required.</li>
<li>Pads fips codes stored in <code>fips</code> dataset with zeroes.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.1" id="censusapi-041">censusapi 0.4.1<a class="anchor" aria-label="anchor" href="#censusapi-041"></a></h2><p class="text-muted">CRAN release: 2018-08-19</p>
<ul><li>Adds <code>groups</code> type option to <code>listCensusMetadata</code>.</li>
<li>Fixes bug in <code>listCensusMetadata</code> variables call caused by an underlying Census API change, which renamed <code>validValues</code> to <code>values</code> for some endpoints.</li>
<li>Converts variable metadata columns from factors to characters.</li>
<li>Applies numeric conversion exclusions to all API endpoints.</li>
<li>Improves language surrounding error messages that the Census Bureau returns.</li>
<li>Updates 2010 Decennial Census examples to use new 2010 <code>dec/sf1</code> endpoint, which will replace 2010 <code>sf1</code> endpoint on August 30, 2018.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.0" id="censusapi-040">censusapi 0.4.0<a class="anchor" aria-label="anchor" href="#censusapi-040"></a></h2>
<ul><li>Adds support for NAICS code arguments used in Business Patterns APIs, Economic Census APIs, and Annual Survey of Manufactures APIs.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0" id="censusapi-030">censusapi 0.3.0<a class="anchor" aria-label="anchor" href="#censusapi-030"></a></h2><p class="text-muted">CRAN release: 2018-05-02</p>
<ul><li>Does not convert ACS annotation flag variables into numeric columns.</li>
<li>Puts lowercase variable name columns first (geographies), rather than all non-numeric columns.</li>
<li>Changes all punctuation in returned column names into underscores, removing repeated underscores and trailing punctuation.</li>
<li>Uses consistent spacing in examples.</li>
<li>Updates examples using ACS data to latest year using new acs/acs5 endpoint and adds variable group examples.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1" id="censusapi-021">censusapi 0.2.1<a class="anchor" aria-label="anchor" href="#censusapi-021"></a></h2><p class="text-muted">CRAN release: 2017-08-01</p>
<ul><li>Fixes bug in <code>listCensusMetadata</code> variables call caused by underlying Census API changes.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0" id="censusapi-020">censusapi 0.2.0<a class="anchor" aria-label="anchor" href="#censusapi-020"></a></h2><p class="text-muted">CRAN release: 2017-06-06</p>
<ul><li>Updated examples, documentation, vignette.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.2" id="censusapi-012">censusapi 0.1.2<a class="anchor" aria-label="anchor" href="#censusapi-012"></a></h2>
<ul><li>Fixes bug that caused single-row responses to throw an error</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.1" id="censusapi-011">censusapi 0.1.1<a class="anchor" aria-label="anchor" href="#censusapi-011"></a></h2>
<ul><li>Uses https rather than http for requests. The Census Bureau announced that their APIs will be https-only beginning on August 28, 2017.</li>
<li>Removes XML dependency by parsing .json instead of .html metadata.
<ul><li>Note: this change has generally increased the run time for retrieving variable metadata with <code>listCensusMetadata</code>. For most APIs, this function will run in under one second. A lag may be noticeable for the American Community Survey APIs, which each have more than 40,000 variables. Improvements are planned in future releases.</li>
</ul></li>
<li>
<code>listCensusMetadata</code> allows full word or single letter argument in <code>type</code> parameter</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0" id="censusapi-010">censusapi 0.1.0<a class="anchor" aria-label="anchor" href="#censusapi-010"></a></h2>
<ul><li>Scrapes <a href="http://api.census.gov/data.json" class="external-link uri">http://api.census.gov/data.json</a> rather than .html in <code>listCensusApis</code>, in starts of removing XML dependency. The .json data also includes several fields not present in the .html file, the most useful of which are added to the returned data frame.</li>
<li>Changes dataset used in <code>listCensusMetadata</code> examples, mainly for build/checks speed.</li>
<li>Set <code>getCensus(key)</code> argument’s default value to be CENSUS_KEY in .Renviron. Explicitly encourages Census key to be added to .Renviron. (Users can always override this with any given input.)</li>
<li>Parses HTML response code. This is particularly important for the response that the Census APIs provided for invalid keys.</li>
<li>Removes fips code 72 (Puerto Rico) from included fips dataset because Puerto Rico is not included in most Census API datasets.</li>
<li>Changes census key references in examples to Sys.getenv(“CENSUS_KEY”).</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Hannah Recht.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

